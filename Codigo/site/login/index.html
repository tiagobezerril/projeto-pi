<!-- Visão geral da dash -->
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeWare | Visão geral</title>

    <link rel="shortcut icon" type="imagex/png" href="../img/logo.png">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=close,menu,personarrow_drop_downarrow_drop_up" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>

<body>
    <header class="menu">
        <div class="esquerda">
            <!-- <a href="home.html" style="text-decoration: none"> -->
                <span class="logo">SafeWare</span>
            <!-- </a> -->
            <p class="titulo">Visão geral</p>
        </div>
        <div class="direita">
            <a onclick="clickOpcoes()" class="perfil" id="setaPerfil">
                <span class="material-symbols-outlined" id="setaMenu">
                    arrow_drop_down
                </span>
            </a>

            <!-- <a onclick="clickPerfil()" class="perfil">
                <span class="material-symbols-outlined">
                    person
                </span>
            </a> -->
        </div>
    </header>

    <div id="menuPerfil">
        <a href="addFuncionario.html">Funcionários</a>
        <a onclick="clickEndereco()">Endereço</a>
        <a onclick="sair()" style="border-radius: 0 0 1vh 1vh;">Sair</a>
    </div>

    <div id="cima">
        <div class="cimaEsq">
            <h1>Empresa X</h1>
            <div>
                <span>Status geral</span>
                <p>Vazamento detectado</p>
            </div>
        </div>
        <div class="cimaMeio">
            <p>Tem alguma dúvida? Converse com o <b>BobIA</b></p>
            <button>Conversar com BobIA</button>
        </div>
        <div class="cimaDir">
            <span>
                <b>Quantidade de filiais</b>
                <p>2</p>
                <b>Quantidade de sensores</b>
                <p>5</p>
            </span>
            <canvas id="graficoGeral" height="300" width="800"></canvas>
        </div>
    </div>
    <div id="baixo">
        <a href="dashboard.html" class="alerta cozinha" style="text-decoration: none;">
            <img src="../img/cozinhaPerigo.png">
            <h2>Filial 1</h2>
        </a>
        <a href="dashboard2.html" class="seguro cozinha" style="text-decoration: none;">
            <img src="../img/cozinhaSegura.png">
            <h2>Filial 2</h2>
        </a>
        <div class="vazio">
        </div>
    </div>

    <div id="endereco">
        <p class="titulo">Endereço</p>
        <span class="linha"></span>
        <div class="form">
            <p class="subtitulo">Atualize o endereço do estabelecimento</p>
            <p>Estado:</p>
            <select id="">
                <option value="AC">Acre</option>
                <option value="AL">Alagoas</option>
                <option value="AP">Amapá</option>
                <option value="AM">Amazonas</option>
                <option value="BA">Bahia</option>
                <option value="CE">Ceará</option>
                <option value="ES">Espírito Santo</option>
                <option value="GO">Goiás</option>
                <option value="MA">Maranhão</option>
                <option value="MT">Mato grosso</option>
                <option value="MS">Mato grosso do Sul</option>
                <option value="MG">Minas gerais</option>
                <option value="PA">Pará</option>
                <option value="PB">Paraíba</option>
                <option value="PR">Paraná</option>
                <option value="PE">Pernambuco</option>
                <option value="PI">Piauí</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="RN">Rio Grande do Norte</option>
                <option value="RS">Rio Grande do Sul</option>
                <option value="RO">Rondônia</option>
                <option value="RR">Roraima</option>
                <option value="SC">Santa Catarina</option>
                <option value="SP">São Paulo</option>
                <option value="SE">Sergipe</option>
                <option value="TO">Tocantins</option>
            </select>
            <p>Cidade:</p>
            <input type="text" placeholder="Cidade">
            <p>Rua:</p>
            <input type="text" placeholder="Rua">
            <p>Número:</p>
            <input type="number" placeholder="Número">
            <button>Atualizar endereço</button>
            <!-- <a href="" class="aFuncionario">Funcionários</a> -->
        </div>
        <span id="close" onclick="clickClose()" class="material-symbols-outlined">
            close
        </span>
    </div>

    <div id="alerta">
        <span class="card">
            <span id="closeAlerta" onclick="closeAlerta()" class="material-symbols-outlined">
                close
            </span>

            <img src='../img/aviso.png'>
            <p class='atencao'>Um vazamento foi detectado!</p> 
            <p>O sensor do fogão 1 da filial 1 acabou de detectar um vazamento, tome já as providências necessárias para a segurança do seu estabelecimento.</p>
        </span>
    </div>
    <script>
        function clickMenu() {
            if (opcoes.style.left == '-300px') {
                opcoes.style.left = '0';
            } else {
                opcoes.style.left = '-300px';
            }
        }

        function clickOpcoes() {
            if (endereco.style.right == '0'){
                menuPerfil.style.top = '-5vw';
                setaMenu.innerHTML = 'arrow_drop_down';
            } else if (menuPerfil.style.top == '-5vw') {
                menuPerfil.style.top = '5vw';
                setaMenu.innerHTML = 'arrow_drop_up';
            } else {
                menuPerfil.style.top = '-5vw';
                setaMenu.innerHTML = 'arrow_drop_down';
            }
        }
    
        function clickEndereco() {
            endereco.style.right = '0';
            clickOpcoes();
        }
    
        function clickClose() {
            endereco.style.right = '-620px';
        }

        function closeAlerta() {
            alerta.style.display = 'none';
        }

        // ------------------- GRAFICO VISÃO GERAL ---------------------------------------

        var graficoGeral = document.getElementById('graficoGeral');

        var dadosGeral = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho'];

        var configGeral = {
            responsive: false,
            type: 'bar',
            data: {
                datasets: [{
                    label: 'Filial 1',
                    data: [3, 1, 2, 3, 4, 6],
                    borderColor: '#6e65ec',
                    backgroundColor: '#6e65ec'
                },
                {
                    label: 'Filial 2',
                    data: [1, 2, 2, 5, 3, 2],
                    borderColor: '#36317a',
                    backgroundColor: '#36317a'
                },
                {
                    label: 'Total de vazamentos',
                    data: [4, 3, 4, 8, 7, 8],
                    backgroundColor: '#939399',
                    borderColor: '#939399'    
                }],
                labels: dadosGeral
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        }

        var chartGeral = new Chart (graficoGeral, configGeral);
    </script>
</body>
</html>
