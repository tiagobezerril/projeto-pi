<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeWare | Dashboard</title>

    <link rel="shortcut icon" type="imagex/png" href="../../img/logo.png">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=close,menu,personarrow_drop_downarrow_drop_up" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>    
</head>

<body>
    <header class="menu">
        <div class="esquerda">
            <span id="burguer" class="material-symbols-outlined" onclick="clickMenu()">
                menu
            </span>
        </div>
        <div class="centro">
            <a href="index.html" style="text-decoration: none"><span class="logo">SafeWare</span></a>
            <p class="titulo">Filial 1</p>
        </div>
        <div class="direita">
            <span id="sensores">
                <button onclick="clickSensor1()" id="botaoSensor1" class="alerta">Fogão 01</button>
                <button onclick="clickSensor2()" id="botaoSensor2">Forno 01</button>
                <button onclick="clickSensor3()" id="botaoSensor3">Cilindro 01</button>
            </span>

            <a onclick="clickOpcoes()" class="perfil" id="setaPerfil">
                <span class="material-symbols-outlined" id="setaMenu">
                    arrow_drop_down
                </span>
            </a>
        </div>
    </header>

    <div id="menuPerfil">
        <a href="addFuncionario.html">Funcionários</a>
        <a onclick="clickEndereco()">Endereço</a>
        <a onclick="clickManutencao()">Manutenções</a>
        <a onclick="limparSessao()" style="border-radius: 0 0 1vh 1vh;">Sair</a>
    </div>

    <div id="opcoes">
        <div>
            <a class="filial">Filial 1</a>
            <span class="linha"></span>
            <a class="filial" href="dashboard2.html" style="text-decoration: none;">Filial 2</a>
        </div>
        <a href="index.html" class="voltar">Voltar</a>
    </div>

    <div id="manutencao">
        <p class="titulo">Historico de manutenções</p>
        <span class="linha"></span>

        <div id="historico">
            <span class="manutencao">
                <h3>Sensor cilindro 01</h3>
                <span class="horario">
                    <b>Horario de inicio:</b> 08:21:09 - 12/11/2024 <br>
                    <b>Horario de término:</b> 08:25:03 - 12/11/2024
                </span>
            </span>
            <!-- <span class="manutencao">
                <h3>Sensor do fogão 01</h3>
                <p>Estava em manutenção para troca de cabos.</p>
                <span class="horario">
                    <b>Horario de inicio:</b> 08:21:09 - 10/11/2024 <br>
                    <b>Horario de término:</b> 08:25:03 - 10/11/2024
                </span>
            </span> -->
        </div>
        <span id="close" onclick="closeManu()" class="material-symbols-outlined">
            close
        </span>
    </div>

    <div id="endereco">
        <p class="titulo">Endereço</p>
        <span class="linha"></span>
        <div class="form">
            <p class="subtitulo">Atualize o endereço do estabelecimento</p>
            <p>Estado:</p>
            <select id="">
                <option value="AC">Acre</option>
                <option value="AL">Alagoas</option>
                <option value="AP">Amapá</option>
                <option value="AM">Amazonas</option>
                <option value="BA">Bahia</option>
                <option value="CE">Ceará</option>
                <option value="ES">Espírito Santo</option>
                <option value="GO">Goiás</option>
                <option value="MA">Maranhão</option>
                <option value="MT">Mato grosso</option>
                <option value="MS">Mato grosso do Sul</option>
                <option value="MG">Minas gerais</option>
                <option value="PA">Pará</option>
                <option value="PB">Paraíba</option>
                <option value="PR">Paraná</option>
                <option value="PE">Pernambuco</option>
                <option value="PI">Piauí</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="RN">Rio Grande do Norte</option>
                <option value="RS">Rio Grande do Sul</option>
                <option value="RO">Rondônia</option>
                <option value="RR">Roraima</option>
                <option value="SC">Santa Catarina</option>
                <option value="SP">São Paulo</option>
                <option value="SE">Sergipe</option>
                <option value="TO">Tocantins</option>
            </select>
            <p>Cidade:</p>
            <input type="text" placeholder="Cidade">
            <p>Rua:</p>
            <input type="text" placeholder="Rua">
            <p>Número:</p>
            <input type="number" placeholder="Número">
            <button>Atualizar endereço</button>
            <!-- <a href="" class="aFuncionario">Funcionários</a> -->
        </div>
        <span id="close" onclick="clickClose()" class="material-symbols-outlined">
            close
        </span>
    </div>

    <div id="alerta">
        <span class="card">
            <span id="closeAlerta" onclick="closeAlerta()" class="material-symbols-outlined">
                close
            </span>

            <img src='../../img/aviso.png'>
            <p class='atencao'>Um vazamento foi detectado!</p> 
            <p>O sensor do fogão 1 acabou de detectar um vazamento, tome já as providências necessárias para a segurança do seu estabelecimento.</p>
        </span>
    </div>

    <div class="dash" id="sensor1">
        <div class="cima">
            <div class="esquerda">
                <span class="spanTitulo">
                    <p id="tituloSensor1" class="titulo alerta">Fogão 01</p>
                    <div class="onoff">
                        <p>Modo manutenção</p>
                        <input type="checkbox" class="toggle" id="onoff">
                        <label for="onoff"> </label>
                    </div>
                </span>

                <div class="divEsq">
                    <span>
                        <p class="graficoTitulo">Porcentagem de vazamento durante o dia</p>
                        <canvas id="graficoLinha1" class="graficoLinha"></canvas>
                    </span>
    
                    <div class="KPIs">
                        <span class="inicio">
                            <p class="nome">Horario de início</p>
                            <p class="dado">11:32:06</p>
                        </span>
                        <span class="final">
                            <p class="nome">Horario de encerramento</p>
                            <p class="dado" style="color: #e63535;">Ativo</p>
                        </span>
                        <span class="status alerta">
                            <p class="nome">Status de vazamento</p>
                            <p class="dado">Ativo</p>
                        </span>
                    </div>
                </div>
            </div>

            <div class="direita">
                <div class="metricas">
                    <span class="seguro">Seguro</span>
                    <span class="risco">Em risco</span>
                    <span class="extremo">Extremo risco</span>
                    
                    <p> 0% </p>
                    <p> >0% e <2%</p>
                    <p> >2% </p>
                </div>

                <span style="width: 180px;">
                    <p class="graficoTitulo">Porcentagem atual</p>
                    <canvas id="graficoMeia1" class="meiaLua">Grafico</canvas>
                </span>
                   
                <div class="baixo">
                    <p class="graficoTitulo">Quantidade de vazamentos mensal</p>
                    <canvas id="graficoMensal1" style="height: 200px;"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="dash" id="sensor2">
        <div class="cima">
            <div class="esquerda">
                <span class="spanTitulo">
                    <p id="tituloSensor2" class="titulo">Forno 01</p>
                    <div class="onoff">
                        <p>Modo manutenção</p>
                        <input type="checkbox" class="toggle" id="onoff2">
                        <label for="onoff2"> </label>
                    </div>
                </span>
                <div class="divEsq">
                    <span>
                        <p class="graficoTitulo">Porcentagem de vazamento durante o dia</p>
                        <canvas id="graficoLinha2" class="graficoLinha" height="300px" width="600px"></canvas>
                    </span>

                    <div class="KPIs">
                        <span class="inicio">
                            <p class="nome">Horario de início</p>
                            <p class="dado">--</p>
                        </span>
                        <span class="final">
                            <p class="nome">Horario de encerramento</p>
                            <p class="dado">--</p>
                        </span>
                        <span class="status seguro">
                            <p class="nome">Status de vazamento</p>
                            <p class="dado">Sem vazamento</p>
                        </span>
                    </div>
                </div>
            </div>

            <div class="direita">
                <div class="metricas">
                    <span class="seguro">Seguro</span>
                    <span class="risco">Em risco</span>
                    <span class="extremo">Extremo risco</span>
                    
                    <p> 0% </p>
                    <p> >0% e <2%</p>
                    <p> >2% </p>
                </div>

                <span style="width: 180px;">
                    <p class="graficoTitulo">Porcentagem atual</p>
                    <canvas id="graficoMeia2" class="meiaLua"></canvas>
                </span>

                <div class="baixo">
                    <p class="graficoTitulo">Quantidade de vazamentos por sensor</p>
                    <canvas id="graficoMensal2" height="100px !important;"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="dash" id="sensor3">
        <div class="cima">
            <div class="esquerda">
                <span class="spanTitulo">
                    <p id="tituloSensor3" class="titulo">Fogão 02</p>
                    <div class="onoff">
                        <p>Modo manutenção</p>
                        <input type="checkbox" class="toggle" id="onoff3">
                        <label for="onoff3"> </label>
                    </div>
                </span>
                <div class="divEsq">
                    <span>
                        <p class="graficoTitulo">Porcentagem de vazamento durante o dia</p>
                        <canvas id="graficoLinha3" class="graficoLinha" height="300px" width="600px"></canvas>
                    </span>

                    <div class="KPIs">
                        <span class="inicio">
                            <p class="nome">Horario de início</p>
                            <p class="dado">07:02:12</p>
                        </span>
                        <span class="final">
                            <p class="nome">Horario de encerramento</p>
                            <p class="dado">07:54:36</p>
                        </span>
                        <span class="status seguro">
                            <p class="nome">Status de vazamento</p>
                            <p class="dado">Sem vazamento</p>
                        </span>
                    </div>
                </div>
            </div>

            <div class="direita">
                <div class="metricas">
                    <span class="seguro">Seguro</span>
                    <span class="risco">Em risco</span>
                    <span class="extremo">Extremo risco</span>
                    
                    <p>0%</p>
                    <p>>0% e <2%</p>
                    <p>>2% </p>
                </div>

                <span style="width: 180px;">
                    <p class="graficoTitulo">Porcentagem atual</p>
                    <canvas id="graficoMeia3" class="meiaLua"></canvas>
                </span>

                <div class="baixo">
                    <p class="graficoTitulo">Quantidade de vazamentos por sensor</p>
                    <canvas id="graficoMensal3" height="100px !important;"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/dash1.js"></script>

    <script>
        function clickMenu() {
            if (opcoes.style.left == '-300px') {
                opcoes.style.left = '0';
            } else {
                opcoes.style.left = '-300px';
            }
        }

        function clickOpcoes() {
            if (endereco.style.right == '0'){
                menuPerfil.style.top = '-5vw';
                setaMenu.innerHTML = 'arrow_drop_down';
            } else if (menuPerfil.style.top == '-5vw') {
                menuPerfil.style.top = '5vw';
                setaMenu.innerHTML = 'arrow_drop_up';
            } else {
                menuPerfil.style.top = '-5vw';
                setaMenu.innerHTML = 'arrow_drop_down';
            }
        }       

        function clickManutencao(){
            manutencao.style.right = '0';
            clickOpcoes();
        }

        function closeManu(){
            manutencao.style.right = '-620px';
        }
    
        function clickEndereco() {
            endereco.style.right = '0';
            clickOpcoes();
        }
    
        function clickClose() {
            endereco.style.right = '-620px';
        }

        function closeAlerta() {
            alerta.style.display = 'none';
        }
    
        function clickSensor1(){
            sensor1.style.display = 'flex';
            sensor2.style.display = 'none';
            sensor3.style.display = 'none';

            if (botaoSensor1.classList.contains("alerta")){
                botaoSensor1.style.border = '3px solid #a11919';
            } else {
                botaoSensor1.style.border = '3px solid #2e972e';
            }
            botaoSensor2.style.border = 'none';
            botaoSensor3.style.border = 'none';
        }
    
        function clickSensor2(){
            sensor1.style.display = 'none';
            sensor2.style.display = 'flex';
            sensor3.style.display = 'none';

            botaoSensor1.style.border = 'none';
            if (botaoSensor2.classList.contains("alerta")){
                botaoSensor2.style.border = '3px solid #a11919';
            } else {
                botaoSensor2.style.border = '3px solid #2e972e';
            }
            botaoSensor3.style.border = 'none';
        }
    
        function clickSensor3(){
            sensor1.style.display = 'none';
            sensor2.style.display = 'none';
            sensor3.style.display = 'flex';
            botaoSensor1.style.border = 'none';
            botaoSensor2.style.border = 'none';
            if (botaoSensor3.classList.contains("alerta")){
                botaoSensor3.style.border = '3px solid #a11919';
            } else {
                botaoSensor3.style.border = '3px solid #2e972e';
            }
        }
    </script>
</body>
</html>
